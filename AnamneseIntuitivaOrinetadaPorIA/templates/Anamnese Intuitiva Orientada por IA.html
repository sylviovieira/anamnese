<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anamnese Intuitiva Orientada por IA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .form-container {
            background-color: #D6D3D0;
            padding: 20px;
            border-radius: 10px;
        }
    </style>
</head>

<body class="container mt-4">
    <h2 class="mb-4 text-center">Anamnese Intuitiva Orientada por IA</h2>

    <form method="post" action="{% url 'anamnese' %}">
        {% csrf_token %}

        <div class="form-container">
            <div class="row">

                <div class="col-md-6">

                    <div class="mb-3">
                        <label class="form-label">Idade</label>
                        <input type="number" class="form-control" name="age_value" min="1" max="120" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Gênero</label>
                        <select class="form-select" name="gender" required>
                            <option value="Male">Masculino</option>
                            <option value="Female">Feminino</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Pressão arterial</label>
                        <select class="form-select" name="blood_pressure" required>
                            <option value="High">Alta</option>
                            <option value="Medium">Média</option>
                            <option value="Low">Baixa</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Nível de colesterol</label>
                        <select class="form-select" name="cholesterol_level" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Hábitos de exercício</label>
                        <select class="form-select" name="exercise_habits" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Fumante</label>
                        <select class="form-select" name="smoking" required>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Histórico familiar de doença cardíaca</label>
                        <select class="form-select" name="family_heart_disease" required>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Diabetes</label>
                        <select class="form-select" name="diabetes" required>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Peso (kg)</label>
                        <input type="number" step="0.1" class="form-control" name="weight" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Altura (m)</label>
                        <input type="number" step="0.01" class="form-control" name="height" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">IMC</label>
                        <input type="text" id="bmi_display" class="form-control" readonly>
                        <input type="hidden" name="bmi" id="bmi_hidden">
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Doença cardíaca</label>
                        <select class="form-select" name="heart_disease_status" required>
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                        </select>
                    </div>

                </div>

                <!-- Coluna 2 -->
                <div class="col-md-6">

                    <div class="mb-3">
                        <label class="form-label">Hipertensão</label>
                        <select class="form-select" name="high_blood_pressure">
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Colesterol HDL baixo</label>
                        <select class="form-select" name="low_hdl_cholesterol">
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Colesterol LDL alto</label>
                        <select class="form-select" name="high_ldl_cholesterol">
                            <option value="Yes">Sim</option>
                            <option value="No">Não</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Consumo de álcool</label>
                        <select class="form-select" name="alcohol_consumption" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                            <option value="None">Nenhum</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Nível de estresse</label>
                        <select class="form-select" name="stress_level" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Horas de sono</label>
                        <select class="form-select" name="sleep_hours" required>
                            <option value="High">Altas</option>
                            <option value="Medium">Médias</option>
                            <option value="Low">Baixas</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Consumo de açúcar</label>
                        <select class="form-select" name="sugar_consumption" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                            <option value="Unknown">Desconhecido</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Triglicerídeos</label>
                        <select class="form-select" name="triglyceride_level" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Glicemia de jejum</label>
                        <select class="form-select" name="fasting_blood_sugar" required>
                            <option value="High">Alta</option>
                            <option value="Medium">Média</option>
                            <option value="Low">Baixa</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Nível de PCR</label>
                        <select class="form-select" name="crp_level" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">Nível de Homocisteína</label>
                        <select class="form-select" name="homocysteine_level" required>
                            <option value="High">Alto</option>
                            <option value="Medium">Médio</option>
                            <option value="Low">Baixo</option>
                        </select>
                    </div>

                    <button type="submit" class="btn btn-primary mt-3">Enviar Dados</button>
                </div>
            </div>
        </div>
    </form>

    <script>
        function updateBMI() {
            const weight = parseFloat(document.querySelector('input[name="weight"]').value);
            const height = parseFloat(document.querySelector('input[name="height"]').value);
            if (weight && height) {
                const bmi = (weight / (height * height)).toFixed(2);
                document.getElementById('bmi_display').value = bmi;
                document.getElementById('bmi_hidden').value = bmi;
            }
        }

        document.querySelectorAll('input[name="weight"], input[name="height"]').forEach(input => {
            input.addEventListener('input', updateBMI);
        });
    </script>
</body>

</html>